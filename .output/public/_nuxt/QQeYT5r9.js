const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./lEKn_iO7.js","./Bw4UYVbR.js","./entry.ChkhECp8.css","./BQ1wW11r.js"])))=>i.map(i=>d[i]);
import{n as q,e as x,f as E,g as b,u as Q,q as T,s as V,h as G,w as v,r as w,o as C,b as k,a as f,c as j,i as L,t as _,j as p,d as P}from"./Bw4UYVbR.js";import{_ as I}from"./DY9rp1b1.js";import{u as O}from"./Q9jVvtBV.js";import"./CQ4thxpi.js";import"./BT_t_JTR.js";var h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"systemBySlugQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"systemCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}]}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sys"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manufacturer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:237}};h.loc.source={body:`query systemBySlugQuery($slug: String!) {\r
  systemCollection(where: { slug: $slug }, limit: 1) {\r
    items {\r
      sys {\r
        id\r
      }\r
      title\r
      shortName\r
      manufacturer {\r
        title\r
      }\r
    }\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function y(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(t){y(t,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(t){y(t,n)}),e.definitions&&e.definitions.forEach(function(t){y(t,n)})}var F={};(function(){h.definitions.forEach(function(n){if(n.name){var i=new Set;y(n,i),F[n.name.value]=i}})})();function B(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}function W(e,n){var i={kind:e.kind,definitions:[B(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=F[n]||new Set,d=new Set,r=new Set;for(t.forEach(function(a){r.add(a)});r.size>0;){var m=r;r=new Set,m.forEach(function(a){if(!d.has(a)){d.add(a);var o=F[a]||new Set;o.forEach(function(g){r.add(g)})}})}return d.forEach(function(a){var o=B(e,a);o&&i.definitions.push(o)}),i}W(h,"systemBySlugQuery");var N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"gamesBySystemQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"system"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gameCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"999"}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"system"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"system"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"title_ASC"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sys"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playedStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"digital"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wtbWts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"system"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:325}};N.loc.source={body:`query gamesBySystemQuery($system: String!) {\r
  gameCollection(limit: 999, where: { system: { slug: $system } }, order: [title_ASC]) {\r
    items {\r
      sys {\r
        id\r
      }\r
      title\r
      slug\r
      playedStatus\r
      digital\r
      wtbWts\r
      system {\r
        slug\r
      }\r
      region\r
    }\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function S(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(t){S(t,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(t){S(t,n)}),e.definitions&&e.definitions.forEach(function(t){S(t,n)})}var D={};(function(){N.definitions.forEach(function(n){if(n.name){var i=new Set;S(n,i),D[n.name.value]=i}})})();function R(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}function H(e,n){var i={kind:e.kind,definitions:[R(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=D[n]||new Set,d=new Set,r=new Set;for(t.forEach(function(a){r.add(a)});r.size>0;){var m=r;r=new Set,m.forEach(function(a){if(!d.has(a)){d.add(a);var o=D[a]||new Set;o.forEach(function(g){r.add(g)})}})}return d.forEach(function(a){var o=R(e,a);o&&i.definitions.push(o)}),i}H(N,"gamesBySystemQuery");const z={key:0},Y={__name:"[slug]",async setup(e){let n,i;const t=q(),{$graphql:d}=x(),{data:r}=([n,i]=E(()=>O("system",()=>d.request(h,{slug:t.params.slug}))),n=await n,i(),n),m=b(()=>r.value?.systemCollection?.items?.[0]||{});Q(()=>({title:m.value?.title?`Gloves Off Games - ${m.value.title}`:"Gloves Off Games - System"}));const{data:a}=([n,i]=E(()=>O("gamesBySystem",()=>d.request(N,{system:t.params.slug}))),n=await n,i(),n),o=b(()=>a.value?.gameCollection?.items||[]),g=b(()=>{const c={};o.value.forEach(s=>{c[s.playedStatus]==null?c[s.playedStatus]=1:c[s.playedStatus]+=1});const l=[];for(let s in c){let u="";s=="Untouched"?u="#DB4C40":s=="Unfinished"?u="#FFB940":s=="Beaten"?u="#4B8F8C":s=="Completed"&&(u="#FCD581"),l.push({name:s,y:c[s],color:u})}return l});return T(async()=>{{const l=(await V(()=>import("./lEKn_iO7.js").then(u=>u.h),__vite__mapDeps([0,1,2]),import.meta.url)).default;(await V(()=>import("./BQ1wW11r.js").then(u=>u.a),__vite__mapDeps([3,1,2]),import.meta.url)).default(l),l.chart("games-status-chart",{chart:{backgroundColor:"transparent",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:null},tooltip:{pointFormat:"Games: <b>{point.y}</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{name:"Statuses",colorByPoint:!0,animation:!1,data:g.value}]})}}),(c,l)=>{const s=w("b-col"),u=w("b-row"),A=I,$=w("b-container");return C(),G($,null,{default:v(()=>[k(u,null,{default:v(()=>[k(s,null,{default:v(()=>[f("h1",null,_(p(m).title),1),p(m).manufacturer?(C(),j("p",z,_(p(m).manufacturer.title),1)):L("",!0),l[3]||(l[3]=f("hr",null,null,-1)),k(u,null,{default:v(()=>[k(s,{md:"3"},{default:v(()=>[l[1]||(l[1]=f("h2",null,"Status Overview",-1)),f("p",null,[l[0]||(l[0]=f("b",null,"Total Games:",-1)),P(" "+_(p(o).length),1)])]),_:1}),k(s,{md:"6"},{default:v(()=>[...l[2]||(l[2]=[f("div",{id:"games-status-chart"},null,-1)])]),_:1})]),_:1}),l[4]||(l[4]=f("hr",null,null,-1)),k(A,{games:p(o)},null,8,["games"])]),_:1})]),_:1})]),_:1})}}};export{Y as default};
