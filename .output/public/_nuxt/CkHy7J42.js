const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BBZElu4H.js","./CdtAEXek.js","./D48uTKFM.js"])))=>i.map(i=>d[i]);
import{k as B,e as R,f as F,g as h,u as A,m as $,n as _,c as D,a as o,h as Q,b as T,t as N,i as k,d as q,o as E}from"./CdtAEXek.js";import{_ as x}from"./B5frNqD5.js";import{u as V}from"./DsidGJoe.js";import"./BiSYcTYW.js";import"./BDBL0v1s.js";var S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"systemBySlugQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"systemCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}]}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sys"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manufacturer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:237}};S.loc.source={body:`query systemBySlugQuery($slug: String!) {\r
  systemCollection(where: { slug: $slug }, limit: 1) {\r
    items {\r
      sys {\r
        id\r
      }\r
      title\r
      shortName\r
      manufacturer {\r
        title\r
      }\r
    }\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function g(e,i){if(e.kind==="FragmentSpread")i.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(t){g(t,i)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(t){g(t,i)}),e.definitions&&e.definitions.forEach(function(t){g(t,i)})}var b={};(function(){S.definitions.forEach(function(i){if(i.name){var n=new Set;g(i,n),b[i.name.value]=n}})})();function O(e,i){for(var n=0;n<e.definitions.length;n++){var t=e.definitions[n];if(t.name&&t.name.value==i)return t}}function G(e,i){var n={kind:e.kind,definitions:[O(e,i)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var t=b[i]||new Set,d=new Set,l=new Set;for(t.forEach(function(a){l.add(a)});l.size>0;){var m=l;l=new Set,m.forEach(function(a){if(!d.has(a)){d.add(a);var r=b[a]||new Set;r.forEach(function(f){l.add(f)})}})}return d.forEach(function(a){var r=O(e,a);r&&n.definitions.push(r)}),n}G(S,"systemBySlugQuery");var p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"gamesBySystemQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"system"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gameCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"999"}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"system"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"system"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"title_ASC"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sys"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playedStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"digital"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wtbWts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"system"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:325}};p.loc.source={body:`query gamesBySystemQuery($system: String!) {\r
  gameCollection(limit: 999, where: { system: { slug: $system } }, order: [title_ASC]) {\r
    items {\r
      sys {\r
        id\r
      }\r
      title\r
      slug\r
      playedStatus\r
      digital\r
      wtbWts\r
      system {\r
        slug\r
      }\r
      region\r
    }\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function y(e,i){if(e.kind==="FragmentSpread")i.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(t){y(t,i)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(t){y(t,i)}),e.definitions&&e.definitions.forEach(function(t){y(t,i)})}var w={};(function(){p.definitions.forEach(function(i){if(i.name){var n=new Set;y(i,n),w[i.name.value]=n}})})();function C(e,i){for(var n=0;n<e.definitions.length;n++){var t=e.definitions[n];if(t.name&&t.name.value==i)return t}}function L(e,i){var n={kind:e.kind,definitions:[C(e,i)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var t=w[i]||new Set,d=new Set,l=new Set;for(t.forEach(function(a){l.add(a)});l.size>0;){var m=l;l=new Set,m.forEach(function(a){if(!d.has(a)){d.add(a);var r=w[a]||new Set;r.forEach(function(f){l.add(f)})}})}return d.forEach(function(a){var r=C(e,a);r&&n.definitions.push(r)}),n}L(p,"gamesBySystemQuery");const P={class:"container"},j={key:0},M={__name:"[slug]",async setup(e){let i,n;const t=B(),{$graphql:d}=R(),{data:l}=([i,n]=F(()=>V("system",()=>d.request(S,{slug:t.params.slug}))),i=await i,n(),i),m=h(()=>l.value?.systemCollection?.items?.[0]||{});A(()=>({title:m.value?.title?`Gloves Off Games - ${m.value.title}`:"Gloves Off Games - System"}));const{data:a}=([i,n]=F(()=>V("gamesBySystem",()=>d.request(p,{system:t.params.slug}))),i=await i,n(),i),r=h(()=>a.value?.gameCollection?.items||[]),f=h(()=>{const v={};r.value.forEach(u=>{v[u.playedStatus]==null?v[u.playedStatus]=1:v[u.playedStatus]+=1});const s=[];for(let u in v){let c="";u=="Untouched"?c="#DB4C40":u=="Unfinished"?c="#FFB940":u=="Beaten"?c="#4B8F8C":u=="Completed"&&(c="#FCD581"),s.push({name:u,y:v[u],color:c})}return s});return $(async()=>{{const s=(await _(()=>import("./BBZElu4H.js").then(c=>c.h),__vite__mapDeps([0,1]),import.meta.url)).default;(await _(()=>import("./D48uTKFM.js").then(c=>c.a),__vite__mapDeps([2,1]),import.meta.url)).default(s),s.chart("games-status-chart",{chart:{backgroundColor:"transparent",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:null},tooltip:{pointFormat:"Games: <b>{point.y}</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{name:"Statuses",colorByPoint:!0,animation:!1,data:f.value}]})}}),(v,s)=>{const u=x;return E(),D("div",P,[o("div",null,[o("div",null,[o("h1",null,N(k(m).title),1),k(m).manufacturer?(E(),D("p",j,N(k(m).manufacturer.title),1)):Q("",!0),s[3]||(s[3]=o("hr",null,null,-1)),o("div",null,[o("div",null,[s[1]||(s[1]=o("h2",null,"Status Overview",-1)),o("p",null,[s[0]||(s[0]=o("b",null,"Total Games:",-1)),q(" "+N(k(r).length),1)])]),s[2]||(s[2]=o("div",null,[o("div",{id:"games-status-chart"})],-1))]),s[4]||(s[4]=o("hr",null,null,-1)),T(u,{games:k(r)},null,8,["games"])])])])}}};export{M as default};
