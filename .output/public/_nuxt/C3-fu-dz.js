import{_ as D}from"./BDBL0v1s.js";import{a as P,_ as E}from"./BiSYcTYW.js";import{k as q,e as R,f as I,g as y,u as M,c as d,h as k,i,a as n,t as v,b as _,w as C,d as g,s as x,F as V,r as $,o as u}from"./CdtAEXek.js";import{u as B}from"./DsidGJoe.js";var F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"gameBySlugAndSystemQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"system"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gameCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"ObjectField",name:{kind:"Name",value:"system"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"system"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sys"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"system"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manufacturer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playedStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"digital"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requirementsForCompletion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wtbWts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photosCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"thumbnail"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"transform"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"300"}},{kind:"ObjectField",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"200"}},{kind:"ObjectField",name:{kind:"Name",value:"resizeStrategy"},value:{kind:"EnumValue",value:"FILL"}}]}}],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"gameLogCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"game"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sys"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:869}};F.loc.source={body:`query gameBySlugAndSystemQuery($slug: String!, $system: String!) {\r
  gameCollection(where: { slug: $slug, system: { slug: $system } }, limit: 1) {\r
    items {\r
      sys {\r
        id\r
        firstPublishedAt\r
        publishedAt\r
      }\r
      title\r
      system {\r
        title\r
        shortName\r
        slug\r
        manufacturer {\r
          title\r
        }\r
      }\r
      region\r
      playedStatus\r
      highScore\r
      digital\r
      requirementsForCompletion\r
      wtbWts\r
      photosCollection(limit: 10) {\r
        items {\r
          url\r
          thumbnail: url(\r
            transform: { width: 300, height: 200, resizeStrategy: FILL }\r
          )\r
        }\r
      }\r
    }\r
  }\r
\r
  gameLogCollection(where: { game: { slug: $slug } }) {\r
    items {\r
      sys {\r
        firstPublishedAt\r
      }\r
      title\r
      slug\r
    }\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function b(t,a){if(t.kind==="FragmentSpread")a.add(t.name.value);else if(t.kind==="VariableDefinition"){var s=t.type;s.kind==="NamedType"&&a.add(s.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(r){b(r,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(r){b(r,a)}),t.definitions&&t.definitions.forEach(function(r){b(r,a)})}var w={};(function(){F.definitions.forEach(function(a){if(a.name){var s=new Set;b(a,s),w[a.name.value]=s}})})();function L(t,a){for(var s=0;s<t.definitions.length;s++){var r=t.definitions[s];if(r.name&&r.name.value==a)return r}}function G(t,a){var s={kind:t.kind,definitions:[L(t,a)]};t.hasOwnProperty("loc")&&(s.loc=t.loc);var r=w[a]||new Set,f=new Set,m=new Set;for(r.forEach(function(e){m.add(e)});m.size>0;){var S=m;m=new Set,S.forEach(function(e){if(!f.has(e)){f.add(e);var c=w[e]||new Set;c.forEach(function(N){m.add(N)})}})}return f.forEach(function(e){var c=L(t,e);c&&s.definitions.push(c)}),s}G(F,"gameBySlugAndSystemQuery");const H={key:0,class:"container"},W={class:"section"},Q={key:0},z=["innerHTML"],U={key:1},J=["href"],K={key:0},X={key:0,class:"section"},Y=["onClick"],Z=["src"],ee=["id"],ne=["src"],ie={key:1,class:"section"},te={key:0},ue={__name:"[...pathMatch]",async setup(t){let a,s;const r=q(),{$graphql:f}=R(),m=o=>({slug:o[1],system:o[0]}),{data:S}=([a,s]=I(()=>B("gameDetail",()=>f.request(F,{slug:m(r.params.pathMatch).slug,system:m(r.params.pathMatch).system}))),a=await a,s(),a),e=y(()=>S.value?.gameCollection?.items?.[0]||{}),c=y(()=>S.value?.gameLogCollection?.items||[]),N=y(()=>e.value?.photosCollection?.items||[]),O=y(()=>e.value.title?`https://www.ebay.ca/sch/i.html?_nkw=${`${e.value.title}+${e.value.system.title}`.replaceAll("&","&").replaceAll(" ","+").replaceAll(":","")}&_in_kw=1&_ex_kw=&_sacat=0&LH_Sold=1&_udlo=&_udhi=&_samilow=&_samihi=&_sadis=15&_stpos=M4V+2E9&_sargn=-1&saslc=1&_salic=2&_sop=12&_dmd=1&_ipg=60&LH_Complete=1&_fosrp=1`:"#");return M({title:y(()=>`Gloves Off Games - ${e.value.title} (${e.value.system?.title||""})`)}),(o,l)=>{const A=D,T=P,j=E;return u(),d("div",null,[i(e).title?(u(),d("div",H,[n("div",null,[n("div",null,[n("h1",null,v(i(e).title),1),n("h2",null,[_(A,{to:`/systems/${i(e).system.slug}`},{default:C(()=>[g(v(i(e).system.title),1)]),_:1},8,["to"])]),n("div",W,[l[5]||(l[5]=n("h3",null,"Overview",-1)),n("ul",null,[n("li",null,[_(T,{region:i(e).region},null,8,["region"])]),i(e).requirementsForCompletion?(u(),d("li",Q,[l[0]||(l[0]=n("strong",null,"Requirements for Completion:",-1)),n("div",{innerHTML:o.$translateLongText(i(e).requirementsForCompletion)},null,8,z)])):k("",!0),n("li",null,[l[1]||(l[1]=n("strong",null,"Played Status: ",-1)),_(j,{status:i(e).playedStatus},null,8,["status"]),g(v(i(e).playedStatus),1)]),i(e).highScore?(u(),d("li",U,[l[2]||(l[2]=n("strong",null,"High Score: ",-1)),g(" "+v(i(e).highScore),1)])):k("",!0),n("li",null,[l[3]||(l[3]=n("strong",null,"Added: ",-1)),g(" "+v(o.$dateTranslate(i(e).sys.firstPublishedAt).long),1)]),n("li",null,[l[4]||(l[4]=n("strong",null,"Updated: ",-1)),g(" "+v(o.$dateTranslate(i(e).sys.publishedAt).long),1)]),n("li",null,[n("a",{href:i(O),target:"_blank"},"ðŸ’¸ Price Check",8,J)]),i(e).wtbWts?(u(),d("li",{key:2,class:x(i(e).wtbWts.toLowerCase())},[i(e).wtbWts=="WTS"?(u(),d("strong",K,"For sale!")):k("",!0)],2)):k("",!0)]),l[6]||(l[6]=n("p",null,null,-1))]),i(N).length?(u(),d("div",X,[l[7]||(l[7]=n("h3",null,"Photos",-1)),n("div",null,[(u(!0),d(V,null,$(i(N),(h,p)=>(u(),d("div",{key:`game-photo-${p}`},[n("button",{onClick:ae=>o.openModal(`photo-modal-${p}`),class:"image-button"},[n("img",{src:h.thumbnail,width:"300",height:"200"},null,8,Z)],8,Y),n("dialog",{id:`photo-modal-${p}`},[n("img",{src:h.url},null,8,ne)],8,ee)]))),128))])])):k("",!0),i(c).length?(u(),d("div",ie,[n("h3",null,[l[8]||(l[8]=g("Game Log",-1)),i(c).length>1?(u(),d("span",te,"s")):k("",!0)]),(u(!0),d(V,null,$(i(c),(h,p)=>(u(),d("div",{class:"game-log-link",key:`game-log-${p}`},[g(v(o.$dateTranslate(h.sys.firstPublishedAt).short)+" - ",1),_(A,{to:`/glog/${h.slug}`},{default:C(()=>[g(v(h.title),1)]),_:2},1032,["to"])]))),128))])):k("",!0)])])])):k("",!0)])}}};export{ue as default};
