import{_ as G,a as L}from"./CQ4thxpi.js";import{_ as P}from"./BT_t_JTR.js";import{p as f,g as B,q as $,r as h,h as c,o as i,w as o,b as a,i as d,j as l,a as m,t as W,c as _,F as A,k as M,x as U,d as q}from"./Bw4UYVbR.js";const R={id:"game-filters"},j={key:0},z={key:1},E={class:"mt-3"},O={__name:"ListWithFilters",props:{games:{type:Array,required:!0}},setup(x){const g=x,k=f(999),b=f([{value:null,text:"By Status"},{label:"Statuses",options:[]}]),w=f([{value:null,text:"By Physical/Digital"},{label:"Physical/Digital",options:[]}]),y=f([{value:null,text:"By WTB/WTS"},{label:"Wanting to:",options:[]}]),u=f({status:null,digital:null,wtbWts:null}),T=()=>{k.value=k.value+25},N=()=>{u.value={status:null,digital:null,wtbWts:null}},v=B(()=>{let s=g.games;return u.value.wtbWts&&(s=s.filter(t=>t.wtbWts==u.value.wtbWts)),u.value.status&&(s=s.filter(t=>t.playedStatus==u.value.status)),u.value.digital!==null&&(s=s.filter(t=>{if(t.digital&&u.value.digital)return!0;if(!t.digital&&!u.value.digital)return!0})),s}),V=B(()=>v.value.slice(0,k.value));return $(()=>{let s=[],t=[];g.games.filter(function(e){return s.findIndex(r=>r.playedStatus==e.playedStatus)<=-1&&(s.push(e),t.push(e.playedStatus)),null}),b.value[1].options=t.sort(),s=[],t=[],g.games.filter(function(e){return s.findIndex(r=>r.digital==e.digital)<=-1&&e.digital&&(s.push(e),t.push({text:"Digital",value:!0}),t.push({text:"Physical",value:!1})),null}),w.value[1].options=t.sort(),s=[],t=[],g.games.filter(function(e){if(s.findIndex(r=>r.wtbWts==e.wtbWts)<=-1&&e.wtbWts!==null)switch(s.push(e),e.wtbWts){case"WTB":t.push({text:"Buy",value:"WTB"});break;case"WTS":t.push({text:"Sell",value:"WTS"});break}return null}),y.value[1].options=t.sort()}),(s,t)=>{const e=h("b-col"),p=h("b-row"),r=h("b-container"),S=h("b-form-select"),C=G,D=L,F=P;return i(),c(r,null,{default:o(()=>[a(p,null,{default:o(()=>[l(b)[1].options.length>1||l(y)[1].options.length?(i(),c(e,{key:0,md:"6","order-md":"2",class:"mobile-no-pad"},{default:o(()=>[m("div",R,[a(r,null,{default:o(()=>[a(p,null,{default:o(()=>[a(e,{lg:"3",class:"mobile-no-pad"},{default:o(()=>[...t[4]||(t[4]=[m("h2",null,"Filter",-1)])]),_:1}),a(e,{lg:"2","align-self":"end",class:"mobile-no-pad"},{default:o(()=>[m("p",null,W(l(v).length)+"/"+W(x.games.length),1)]),_:1})]),_:1})]),_:1}),a(r,null,{default:o(()=>[a(p,null,{default:o(()=>[l(b)[1].options.length>1?(i(),c(e,{key:0,lg:"4"},{default:o(()=>[a(S,{modelValue:l(u).status,"onUpdate:modelValue":t[0]||(t[0]=n=>l(u).status=n),options:l(b),class:"mb-4"},null,8,["modelValue","options"])]),_:1})):d("",!0),l(w)[1].options.length>1?(i(),c(e,{key:1,lg:"4"},{default:o(()=>[a(S,{modelValue:l(u).digital,"onUpdate:modelValue":t[1]||(t[1]=n=>l(u).digital=n),options:l(w),class:"mb-4"},null,8,["modelValue","options"])]),_:1})):d("",!0),l(y)[1].options.length?(i(),c(e,{key:2,lg:"4"},{default:o(()=>[a(S,{modelValue:l(u).wtbWts,"onUpdate:modelValue":t[2]||(t[2]=n=>l(u).wtbWts=n),options:l(y),class:"mb-4"},null,8,["modelValue","options"])]),_:1})):d("",!0)]),_:1}),l(v).length<x.games.length?(i(),c(p,{key:0},{default:o(()=>[a(e,null,{default:o(()=>[m("button",{onClick:N},"Remove Filters")]),_:1})]),_:1})):d("",!0)]),_:1})])]),_:1})):d("",!0),a(e,{md:"6",class:"mobile-no-pad"},{default:o(()=>[(i(!0),_(A,null,M(l(V),(n,I)=>(i(),_("div",{key:`game-${I}`,class:U(n.playedStatus)},[a(C,{status:n.playedStatus},null,8,["status"]),a(F,{to:`/games/${n.system.slug}/${n.slug}`},{default:o(()=>[q(W(n.title)+" ",1),a(D,{region:n.region},null,8,["region"]),n.system.shortName?(i(),_("sup",j," ["+W(n.system.shortName)+"]",1)):d("",!0),n.digital?(i(),_("sup",z," [Digital]")):d("",!0)]),_:2},1032,["to"])],2))),128)),m("div",E,[l(V).length<l(v).length?(i(),_("button",{key:0,onClick:t[3]||(t[3]=n=>T())}," Load More ")):d("",!0)])]),_:1})]),_:1})]),_:1})}}};export{O as _};
