const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./lEKn_iO7.js","./Bw4UYVbR.js","./entry.ChkhECp8.css","./BQ1wW11r.js"])))=>i.map(i=>d[i]);
import{u as w,p as A,e as _,f as O,q as B,s as b,v as V,c as x,b as u,w as m,r as g,o as E,a as r,d as y,t as h,j as N}from"./Bw4UYVbR.js";import{u as D}from"./Q9jVvtBV.js";var f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"statistics"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"games"},name:{kind:"Name",value:"gameCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"gamesBeaten"},name:{kind:"Name",value:"gameCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playedStatus"},value:{kind:"StringValue",value:"Beaten",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"gamesCompleted"},name:{kind:"Name",value:"gameCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playedStatus"},value:{kind:"StringValue",value:"Completed",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"gamesUnfinished"},name:{kind:"Name",value:"gameCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playedStatus"},value:{kind:"StringValue",value:"Unfinished",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"gamesUntouched"},name:{kind:"Name",value:"gameCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playedStatus"},value:{kind:"StringValue",value:"Untouched",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"gamesAbandoned"},name:{kind:"Name",value:"gameCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playedStatus"},value:{kind:"StringValue",value:"Abandoned",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"systems"},name:{kind:"Name",value:"systemCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"title_ASC"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkedFrom"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gameCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:712}};f.loc.source={body:`query statistics {\r
  games: gameCollection {\r
    total\r
  }\r
  gamesBeaten: gameCollection(where: { playedStatus: "Beaten" }) {\r
    total\r
  }\r
  gamesCompleted: gameCollection(where: { playedStatus: "Completed" }) {\r
    total\r
  }\r
  gamesUnfinished: gameCollection(where: { playedStatus: "Unfinished" }) {\r
    total\r
  }\r
  gamesUntouched: gameCollection(where: { playedStatus: "Untouched" }) {\r
    total\r
  }\r
  gamesAbandoned: gameCollection(where: { playedStatus: "Abandoned" }) {\r
    total\r
  }\r
  systems: systemCollection(order: [title_ASC]) {\r
    total\r
    items {\r
      title\r
      shortName\r
      linkedFrom {\r
        gameCollection {\r
          total\r
        }\r
      }\r
    }\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function k(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(n){k(n,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(n){k(n,t)}),e.definitions&&e.definitions.forEach(function(n){k(n,t)})}var S={};(function(){f.definitions.forEach(function(t){if(t.name){var i=new Set;k(t,i),S[t.name.value]=i}})})();function C(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function U(e,t){var i={kind:e.kind,definitions:[C(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=S[t]||new Set,c=new Set,l=new Set;for(n.forEach(function(d){l.add(d)});l.size>0;){var p=l;l=new Set,p.forEach(function(d){if(!c.has(d)){c.add(d);var s=S[d]||new Set;s.forEach(function(a){l.add(a)})}})}return c.forEach(function(d){var s=C(e,d);s&&i.definitions.push(s)}),i}U(f,"statistics");const R={__name:"index",async setup(e){let t,i;w({title:"Gloves Off Games - Stats"});const n=A(null),{$graphql:c}=_(),{data:l}=([t,i]=O(()=>D("stats",()=>c.request(f))),t=await t,i(),t);function p(){!n.value||!l?.value||n.value.chart("games-played-status-chart",{chart:{backgroundColor:"transparent",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:null},tooltip:{pointFormat:"{series.name}: <b>{point.y}</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{name:"Games",colorByPoint:!0,animation:!1,data:[{name:"Untouched",y:l.value.gamesUntouched.total,color:"#AAAAAA"},{name:"Unfinished",y:l.value.gamesUnfinished.total,color:"#FFB940"},{name:"Beaten",y:l.value.gamesBeaten.total,color:"#4B8F8C"},{name:"Completed",y:l.value.gamesCompleted.total,color:"#FCD581"},{name:"Abandoned",y:l.value.gamesAbandoned.total,color:"#DB4C40"}]}]})}function d(){if(!n.value||!l?.value)return;const s=l.value.systems.items.map(o=>({name:o.shortName,y:o.linkedFrom.gameCollection.total})).sort((o,v)=>v.y-o.y),a=s.map(o=>o.name);n.value.chart("systems-totals-chart",{chart:{backgroundColor:"transparent",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"column"},title:{text:null},tooltip:{pointFormat:"<b>Games</b>: {point.y}"},plotOptions:{bar:{allowPointSelect:!1,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.y}"}}},xAxis:{categories:a},series:[{name:"Systems by total games",colorByPoint:!0,animation:!1,pointWidth:14,data:s}]})}return B(async()=>{const s=await b(()=>import("./lEKn_iO7.js").then(o=>o.h),__vite__mapDeps([0,1,2]),import.meta.url);n.value=s.default,(await b(()=>import("./BQ1wW11r.js").then(o=>o.a),__vite__mapDeps([3,1,2]),import.meta.url)).default(n.value),await V(),p(),d()}),(s,a)=>{const o=g("b-col"),v=g("b-row"),F=g("b-container");return E(),x("div",null,[u(F,null,{default:m(()=>[u(v,null,{default:m(()=>[u(o,null,{default:m(()=>[...a[0]||(a[0]=[r("h1",null,"Stats",-1)])]),_:1})]),_:1}),u(v,null,{default:m(()=>[u(o,{md:"6"},{default:m(()=>[a[2]||(a[2]=r("h2",null,"Games",-1)),r("p",null,[a[1]||(a[1]=r("b",null,"Total:",-1)),y(" "+h(N(l).games.total),1)]),a[3]||(a[3]=r("div",{id:"games-played-status-chart"},null,-1))]),_:1}),u(o,{md:"6"},{default:m(()=>[a[5]||(a[5]=r("h2",null,"Systems",-1)),r("p",null,[a[4]||(a[4]=r("b",null,"Total:",-1)),y(" "+h(N(l).systems.total),1)]),a[6]||(a[6]=r("div",{id:"systems-totals-chart"},null,-1))]),_:1})]),_:1})]),_:1})])}}};export{R as default};
